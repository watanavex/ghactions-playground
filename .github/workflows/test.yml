name: "Get Ready for Release"
on:
  workflow_dispatch

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout develop
      uses: actions/checkout@v2
      with:
        ref: develop
    - name: Get current date
      id: date
      run: echo "::set-output name=date::$(date +'%Y.%m.%dT%H.%M.%S')"
    - name: Create release branch
      run: |
        git checkout -b release/${{ steps.date.outputs.date }}
        git push origin -u release/${{ steps.date.outputs.date }}
    - name: Pull Request Action
      uses: vsoch/pull-request-action@1.0.18
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        PULL_REQUEST_BRANCH: main
